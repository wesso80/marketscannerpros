import React from 'react';
import { SafeAreaView } from 'react-native';
import { WebView } from 'react-native-webview';
import { StatusBar } from 'expo-status-bar';

const TARGET_URL = 'https://market-scanner-1-wesso80.replit.app?mobile=true';

const INJECT = `
(function () {
  document.documentElement.style.colorScheme = 'dark';
  var style = document.createElement('style');
  style.textContent = 'html,body{background:#000!important;color:#fff!important} .card,.panel,.container,.section{background:#1b1c21!important;color:#fff!important}';
  document.head.appendChild(style);
})();
true;
`;

export default function App() {
  return (
    <SafeAreaView style={{ flex: 1, backgroundColor: '#000' }}>
      <StatusBar style="light" />
      <WebView
        source={{ uri: TARGET_URL }}
        style={{ flex: 1, backgroundColor: '#000' }}
        containerStyle={{ backgroundColor: '#000' }}
        javaScriptEnabled
        domStorageEnabled
        startInLoadingState
        allowsBackForwardNavigationGestures
        injectedJavaScript={INJECT}
      />
    </SafeAreaView>
  );
}
